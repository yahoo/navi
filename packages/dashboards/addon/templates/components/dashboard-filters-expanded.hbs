{{!-- Copyright 2019, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
{{dashboard-filter-collection
  dashboard=dashboard
  onUpdateFilter=(queue (dashboard-action "UPDATE_FILTER") (transition-to "dashboards.dashboard" dashboard.id))
  onRemoveFilter=(queue (dashboard-action "REMOVE_FILTER" dashboard) (transition-to "dashboards.dashboard" dashboard.id))
}}

{{#if addingMode}}
  <div class="dashboard-filters-expanded-add-row">
    {{navi-icon "close" class="dashboard-filters-expanded-add-row__close" click=(toggle "addingMode" this)}}
    {{dashboard-dimension-selector
      class="dashboard-filters-expanded-add-row__dimension-selector"
      dashboard=dashboard
      onChange=(queue (dashboard-action "ADD_FILTER" dashboard) (action (toggle "addingMode" this)))
    }}
    <div class="dashboard-filters-expanded-add-row__placeholder dashboard-filters-expanded-add-row__placeholder--operator">
      <div class="dashboard-filters-expanded-add-row__placeholder-inner dashboard-filters-expanded-add-row__placeholder-inner--operator"></div>
    </div>
    <div class="dashboard-filters-expanded-add-row__placeholder dashboard-filters-expanded-add-row__placeholder--values">
      <div class="dashboard-filters-expanded-add-row__placeholder-inner dashboard-filters-expanded-add-row__placeholder-inner--values"></div>
    </div>
  </div>
{{else}}
  <button onclick={{action (toggle "addingMode" this)}} class="dashboard-filters-expanded__add-filter-button">
    Add Filter
  </button>
{{/if}}