{{!-- Copyright 2020, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
{{#let (model-for (parent-route)) as | report |}}
  <NaviInfoMessage class="navi-report-invalid__info-message">
    {{#let (get report "request.validations") as |validations|}}
      {{#if validations.isTruelyValid}}
        <span>
          <NaviIcon @icon="check-square-o" />
        </span>
        <p>
          Lookin' good. We're ready to
          <LinkTo @route={{sibling-route "view"}} class="navi-link info-message__run-link">run</LinkTo>.
        </p>
      {{else}}
        <span>
          <NaviIcon @icon="ambulance" />
        </span>
        <p>Whoa! We can't run this query. Let's figure out what went wrong.</p>
        <ul class="navi-info-message__error-list">
          {{#each validations.messages as |message|}}
            <li class="navi-info-message__error-list-item">
              <NaviIcon @icon="times" class="navi-info-message__error-list-icon" />
              {{message}}
            </li>
          {{/each}}
        </ul>
      {{/if}}
    {{/let}}
  </NaviInfoMessage>
{{/let}}

