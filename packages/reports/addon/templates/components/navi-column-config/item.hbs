{{!-- Copyright 2020, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
<li
  class="navi-column-config-item navi-column-config-item--{{dasherize @column.fragment.type}} {{if @isOpen "navi-column-config-item--open"}}"
  data-name={{@column.fragment.canonicalName}}
  ...attributes
  {{did-insert this.setupElement}}
  {{did-update this.onUpdateLastAdded @isLastAdded}}
>
  <div class="navi-column-config-item__header">
    <button
      type="button"
      aria-label="delete {{dasherize @column.fragment.type}} {{@column.fragment.displayName}}"
      class="navi-column-config-item__remove-icon"
      {{on "click" @onRemoveColumn}}>
      <NaviIcon @icon="minus-circle" />
    </button>

    <span class="navi-column-config-item__type-icon"></span>

    <button
      class="navi-column-config-item__trigger"
      type="button"
      {{on "click" this.openColumn}}
    >
      <span title="{{@column.fragment.displayName}}" class="navi-column-config-item__name">{{@column.fragment.displayName}}</span>
      <NaviIcon
        class="navi-column-config-item__dropdown-icon"
        @icon="angle-right"
      />
    </button>
  </div>

  {{#if @isOpen}}
    <NaviColumnConfig::Base
      @column={{@column}}
      @cloneColumn={{@cloneColumn}}
      @toggleColumnFilter={{@toggleColumnFilter}}
      @onRenameColumn={{@onRenameColumn}}
      @onUpdateColumnParam={{@onUpdateColumnParam}}
    />
  {{/if}}
</li>
