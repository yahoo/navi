{{!-- Copyright 2019, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
{{#each this.orderedFilters as |filter|}}
  {{#if this.isCollapsed}}
    {{component
      (concat "filter-builders/" filter.type)
      tagName="span"
      class="filter-collection--collapsed-item"
      requestFragment=filter.requestFragment
      request=this.request
      isCollapsed=true
    }}
  {{else}}
    <div class="filter-collection__row">
      {{navi-icon
        "times"
        class="filter-collection__remove"
        classNameBindings="filter.required:filter-collection__remove--disabled"
        click=(action onRemoveFilter filter.requestFragment)
      }}
      {{component
        (concat "filter-builders/" filter.type)
        class="filter-collection__builder"
        requestFragment=filter.requestFragment
        request=this.request
        onUpdateFilter=(action this.onUpdateFilter filter.requestFragment)
      }}
    </div>
  {{/if}}
{{/each}}
