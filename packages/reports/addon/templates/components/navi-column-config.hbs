{{!-- Copyright 2020, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
<AnimatedContainer class="navi-column-config" ...attributes {{did-insert this.setupElement}}>
  <AnimatedIf @predicate={{@isOpen}} @use={{this.drawerTransition}} @duration={{200}}>
    <div class="navi-column-config__panel">
      <h3 class="navi-column-config__title">Columns</h3>
      <ul class="navi-column-config__columns">
        <AnimatedEach @items={{this.columns}} @use={{this.transition}} @key="fragment" @duration={{200}} as |column idx|>
          {{!-- TODO: Make The column item a component --}}
          <li class="navi-column-config__column-item navi-column-config__column-item--{{column.type}}">
            <NaviIcon @icon="chevron-right" class="navi-column-config__column-item__dropdown-icon"/>
            <span class="navi-column-config__column-item__name">{{column.displayName}}</span>
            <button type="button" aria-label="delete {{column.type}} {{column.displayName}}" class="navi-column-config__column-item__remove-icon" {{on "click" (fn this.removeColumn column idx)}}>Ã—</button>
            {{!-- TODO: Use navi-request-column-config components --}}
          </li>
        </AnimatedEach>
      </ul>
    </div>
  </AnimatedIf>
</AnimatedContainer>