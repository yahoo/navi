{{!-- Copyright 2019, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
{{#pick-container onUpdateSelection=onSetInterval as |selection container|}}
  {{#pick-value classNames="selection-box" classNameBindings="container.isFormOpen:open"}}
    {{#if hasBlock}}
      {{yield interval}}
    {{else}}
      {{#if interval}}
        <label>Select date range</label>
        <div class="value">
          {{navi-icon "calendar"}}
          {{format-interval-inclusive-inclusive interval dateTimePeriod}}
        </div>
      {{else}}
        <span class="placeholder">{{navi-icon "calendar"}}Date Range</span>
      {{/if}}
    {{/if}}
  {{/pick-value}}

  {{#pick-form classNames="date-range-form"}}
    <div class="date-picker-label">Start Date</div>
    <div class="date-picker-label">End Date</div>
    <PowerCalendar
      @classNames="new-picker"
      @selected={{dateMoments.start}}
      @onSelect={{action "setStart" value="moment" target=container}}
      @center={{this.centerDate}}
      @onCenterChange={{action (mut this.centerDate) value="moment"}}
      as |powerCalendar|
    >
      <powerCalendar.Nav/>
      <powerCalendar.Days />
    </PowerCalendar>

    <PowerCalendar
      @selected={{dateMoments.end}}
      @onSelect={{action "setEnd" value="moment" target=container}}
      @center={{this.centerDate2}}
      @onCenterChange={{action (mut this.centerDate2) value="moment"}}
      as |powerCalendar|
    >
      <powerCalendar.Nav/>
      <powerCalendar.Days />
    </PowerCalendar>
  {{!navi-date-picker
    date=dateMoments.start
    dateTimePeriod=dateTimePeriod
    onUpdate=(action "setStart" target=container)
    targetObject=container
  }}
  {{!navi-date-picker
    date=dateMoments.end
    dateTimePeriod=dateTimePeriod
    onUpdate=(action "setEnd" target=container)
    targetObject=container
  }}

  {{/pick-form}}
{{/pick-container}}
