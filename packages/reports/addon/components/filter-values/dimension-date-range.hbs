{{!-- Copyright 2020, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
<div class="filter-values--dimension-date-range-input" ...attributes>
  {{#if @isCollapsed}}
    {{#if (and this.startDate this.endDate)}}
      {{format-date-for-granularity this.startDate this.timeGrain}} and {{format-date-for-granularity this.endDate this.timeGrain}}
    {{else}}
      <FilterValues::InvalidValue/>
    {{/if}}
  {{else}}
    <DropdownDatePicker
      @dateTimePeriod={{this.timeGrain}}
      @date={{moment this.startDate}}
      @onUpdate={{this.setLowValue}}
      class="filter-values--dimension-date-range-input__trigger filter-values--dimension-date-range-input__low-value"
    >
      {{#if this.startDate}}
        {{format-date-for-granularity this.startDate this.timeGrain}}
      {{else}}
        <span class="date__placeholder">{{this.lowPlaceholder}}</span>
      {{/if}}
    </DropdownDatePicker>

    <span class="filter-values--dimension-date-range-input__separator">and</span>

    <DropdownDatePicker
      @dateTimePeriod={{this.timeGrain}}
      @date={{moment this.endDate}}
      @onUpdate={{this.setHighValue}}
      class="filter-values--dimension-date-range-input__trigger filter-values--dimension-date-range-input__high-value"
    >
      {{#if this.endDate}}
        {{format-date-for-granularity this.endDate this.timeGrain}}
      {{else}}
        <span class="date__placeholder">{{this.highPlaceholder}}</span>
      {{/if}}
    </DropdownDatePicker>
  {{/if}}
</div>