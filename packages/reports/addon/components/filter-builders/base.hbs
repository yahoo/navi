{{!-- Copyright 2021 Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
{{#if @isCollapsed}}
  <span class="filter-builder" ...attributes>
    <FilterBuilders::Collapsed
      @filter={{@filter}}
      @selectedValueBuilder={{this.selectedValueBuilder}}
      @request={{@request}}
    />
  </span>
{{else}}
  <div class="filter-builder" ...attributes>
    <div class="filter-builder__subject xs-col-1-2 sm-col-1-2 col-1-5">
      <div class="filter-builder__subject-name">{{@filter.displayName}}</div>
    </div>
    <div class="filter-builder__operator xs-col-1-2 sm-col-1-2 col-1-5">
      <PowerSelect
        @triggerClass="filter-builder__operator-trigger is-medium"
        @options={{this.valueBuilders}}
        @selected={{this.selectedValueBuilder}}
        @searchEnabled={{false}}
        @onChange={{this.setOperator}}
        data-filter-subject={{@filter.displayName}}
        as | operator |
      >
        {{operator.name}}
      </PowerSelect>
    </div>
    <div class="filter-builder__values xs-col-1-1 sm-col-1-1 col-3-5">
      {{#let (component this.selectedValueBuilder.component) as |ValuesComponent|}}
        <ValuesComponent
          @filter={{@filter}}
          @request={{@request}}
          @onUpdateFilter={{@onUpdateFilter}}
        />
      {{/let}}
    </div>
  </div>
{{/if}}