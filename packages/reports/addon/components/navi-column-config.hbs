{{!-- Copyright 2021, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
<AnimatedContainer class="navi-column-config" ...attributes
  {{did-insert this.setupElement}}
>
  {{#animated-if @isOpen use=this.drawerTransition duration=200}}
    <div class="navi-column-config__panel">
      <h4 class="navi-column-config__title">Columns</h4>
      <ol class="navi-column-config__columns" {{sortable-group groupName="navi-column-config" onChange=this.reorderColumns direction="y"}}>
        {{#each this.columns key="fragment" as |column|}}
          <NaviColumnConfig::Item
            @column={{column}}
            @isLastAdded={{eq column.fragment @lastAddedColumn}}
            @isOpen={{eq column.fragment this.currentlyOpenColumn.fragment}}
            @onOpenColumn={{this.openColumn}}
            @onRemoveColumn={{fn @onRemoveColumn column.fragment}}
            @cloneColumn={{fn this.cloneColumn column}}
            @onAddFilter={{fn this.onAddFilter column.fragment}}
            @onUpsertSort={{fn @onUpsertSort column.fragment}}
            @onRemoveSort={{fn @onRemoveSort column.fragment}}
            @onRenameColumn={{fn @onRenameColumn column.fragment}}
            @onUpdateColumnParam={{fn @onUpdateColumnParam column.fragment}}
          />
        {{/each}}
      </ol>
    </div>
  {{/animated-if}}
</AnimatedContainer>