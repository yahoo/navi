/**
 * Copyright 2020, Yahoo Holdings Inc.
 * Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms.
 */

@filter-collection-column-margin: 3px;
@filter-collection-row-height: 26px;
@filter-collection-font-size: @font-size-mid;

.filter-collection {
  font-size: @filter-collection-font-size;

  &__builder {
    display: flex;
    flex: 1;
  }

  .ember-power-select-trigger {
    border-radius: 0;
    min-height: @filter-collection-row-height;
  }

  .ember-power-select-trigger-multiple-input {
    padding: 4px 4px 4px 3px;
  }

  .date-range {
    &__placeholder {
      color: @navi-placeholder-gray;
    }

    &__select-trigger {
      border: 1px solid @navi-input-border-gray;
      height: @filter-collection-row-height;
      line-height: @filter-collection-row-height;
      padding-left: 8px;
    }
  }

  .filter-builder {
    &__operator,
    &__field {
      flex: 1;
      margin: @filter-collection-column-margin 0;
    }

    &__select-trigger {
      height: @filter-collection-row-height;
      line-height: @filter-collection-row-height - 2; // Vertically center, accounting for 2px taken by border
      margin: 0 @filter-collection-column-margin;
    }

    &__subject {
      color: @navi-gray-700;
      flex: 1;
      font-family: @font-family-strong;
      line-height: @filter-collection-row-height;
      margin: @filter-collection-column-margin;
    }

    &__values {
      flex: 3;
      margin: @filter-collection-column-margin;
      min-height: @filter-collection-row-height;
    }

    &__values--short {
      flex: 2;

      .js-ember-tag-input-new {
        margin-bottom: 0;
      }

      .navi-tag-input__tag {
        margin-top: 2px;
      }
    }
  }

  .filter-builder-dimension {
    .filter-builder;
    &__subject {
      flex: 2;
    }
    &__operator {
      flex: 2;
    }
    &__field {
      flex: 1;
    }
    &__values {
      flex: 6;
    }
    &__values--short {
      flex: 5;
    }
  }

  .filter-values--range-input__input,
  .filter-values--lookback-input__value,
  .filter-values--advanced-interval-input__value,
  .filter-values--value-input {
    font-size: inherit;
    height: @filter-collection-row-height;
    padding-left: 8px;
  }

  .filter-values--multi-value-input {
    min-height: @filter-collection-row-height;
    line-height: @navi-ideal-line-height;
  }

  .filter-values--date-dimension-select,
  .filter-values--date-range-input,
  .filter-values--since-input,
  .filter-values--dimension-date-range-input {
    &__trigger {
      border: 1px solid @navi-input-border-gray;
      cursor: pointer;
      height: @filter-collection-row-height;
      line-height: @filter-collection-row-height;
      max-width: 300px;
    }
  }

  &__remove {
    .clickable;

    color: @navi-gray-600;
    font-size: @font-size-mid;
    line-height: @filter-collection-row-height;
    margin: @filter-collection-column-margin;
    text-align: center;

    &--disabled {
      visibility: hidden;
    }
  }

  &__row {
    display: flex;
    min-height: @filter-collection-row-height;
  }

  &__message {
    // Offset the remove icon
    margin-left: @font-size-mid + 2 * @filter-collection-column-margin;

    &--icon {
      color: @navi-gray-600;
    }
  }

  &--collapsed {
    cursor: pointer;

    &-item:not(:last-child):after {
      content: '.';
      margin: 0 5px 0 -2px;
    }

    &-item {
      .ellipsed-text;
    }
  }
}
